# 참고 사이트
https://htmlcolorcodes.com/

https://plotly.com/python/

# Scatter plot(산점도)
## scatterplot()

```python
# tip ~ total_bill 산점도
sns.scatterplot(data = tips, x = 'total_bill', y = 'tip', s = 50, marker = '^', c = 'blue', alpha = 0.5)
# sns.scatterplot() 함수의 **kwargs는 plt.scatter() 함수의 파라미터 이름들을 사용함.
# s = 마커의 크기, marker = 마커의 종류, c = 마커 색깔, alpha = 투명도

plt.grid()
plt.show()

# plt.scatter()와 다른점 -> 점의 크기, 점의 테두리가 흰색이라서 점들이 겹치는게 입체감 있게 보임
```
![image](https://github.com/user-attachments/assets/dad26c5e-c042-4a6e-a4c4-54bdd81e8032)

## regplot()
<br>
regression plot: 산점도 + 선형 회귀(linear regression) 직선
```python
sns.regplot(data = tips, x = 'total_bill', y = 'tip',
            scatter_kws = {'alpha': 0.4, 's': 30}, line_kws = {'color': 'IndianRed'])
# sns.regplot() 함수의 scatter_kws 파라미터는 plt.scatter() 함수의 파라미터(아규먼트)들을 dict로 전달.
# sns.regplot() 함수의 line_kws 파라미터는 plt.plot() 함수의 파라미터(아규먼트)들을 dict로 전달.
plt.grid()
plt.show()
```

![image](https://github.com/user-attachments/assets/df98eb3d-d4ce-498d-841d-57e1101ae7a6)

## jointplot()
<br>
산점도 + 히스토그램
```python
sns.jointplot(data = tips, x = 'total_bill', y = 'tip')
plt.show()
```

![image](https://github.com/user-attachments/assets/5b282eac-94fb-4e6a-b076-c411567a8ea6)

## Ex 1.
<br>
tip ~ total_bill 산점도. 마커의 색깔을 성별에 따라서 다르게 시각화.
```python
sns.scatterplot(data = tips, x = 'total_bill', y = 'tip', hue = 'sex', alpha = 0.5)
plt.show()
```

![image](https://github.com/user-attachments/assets/9abef2d7-beda-49d1-98bb-77319b48b60e)

## Ex 2.
<br>
tip ~ total_bill 산점도. 마커의 색깔은 성별에 따라서, 마커의 크기를 size(인원수)에 따라서 다르게 시각화.
```python
sns.scatterplot(data = tips, x = 'total_bill', y = 'tip', 
                hue = 'sex', size = 'size', alpha = 0.5)
plt.show()
```

![image](https://github.com/user-attachments/assets/b9a91569-41f6-4739-9da6-810d4483489e)

## Ex 3.
<br>
tip ~ total_bill 산점도. 마커 색깔은 성별에 따라서, 마커의 모양을 흡연 여부에 따라서 다르게 시각화.

```python
sns.scatterplot(data = tips, x = 'total_bill', y = 'tip',
                hue = 'sex', style = 'smoker',
                palette = ['SlateBlue', 'Violet'], markers = ['^', '*'])
plt.show()
```
![image](https://github.com/user-attachments/assets/11d2bc2b-1b37-4ab1-8e41-72ecb0d2c3ff)

# Line plot(선 그래프)
```python
np.random.seed(42)
df = pd.DataFrame(data = {
    'day': np.arange(1, 11),
    'price': np.random.rand(10)
})
df
```
![image](https://github.com/user-attachments/assets/6ff17422-505c-4011-b80c-3eb80d97a6c5)

```python
sns.lineplot(data = df, x = 'day', y = 'price', marker = 'o', linestyle = ':')
# sns.lineplot() 함수의 **kwargs는 plt.plot() 함수의 파라미터들을 사용.
plt.show()
```
![image](https://github.com/user-attachments/assets/25bded60-87e5-4d06-a06f-26193ac0349a)

## Category plot
<br>
카테고리(범주) 별로 Axes(서브플롯) 객체를 생성하고, 변수의 통계값을 모든 Axes에 같은 종류(kind가 하나 밖에 못들어가서)의 그래프로 시각화.

```python
# 요일(x축)별 팁의 평균(y축) 막대 그래프
# 성별로 Axes를 나누고(서브플롯의 행), 흡연여부별로 Axes를 나눠서(서브플롯의 열) 시각화.
sns.catplot(data = tips, x = 'day', y = 'tip',
            hue = 'day', row = 'sex', col = 'smoker', kind = 'bar')  # 평균 막대 그래프 그린거
# 파라미터 row: Axes의 행을 나누는 기준(카테고리)이 되는 변수
# 파라미터 col: Axes의 열을 나누는 기준(카테고리)이 되는 변수
# 파라미터 kind: 각각의 Axes에 시각화할 그래프 종류(기본값: strip). bar, box, ...
plt.show()
```

![image](https://github.com/user-attachments/assets/0320a080-161b-458d-b384-d5918651edb9)

```python
tips.groupby(by = ['sex', 'smoker', 'day'], observed = False).tip.mean()
```
![image](https://github.com/user-attachments/assets/0fe0ffe0-626e-4f33-8f15-bfa7472d1313)

# Ex 1.
<br>
- 요일별 팁의 평균 막대 그래프. 흡연여부(subplot의 행), 시간(subplot의 열)으로 Axes를 나눠서 그래프 작성.<br>
- groupby 메서드와 통계 함수를 이용해 값 계산.

```python
sns.catplot(data = tips, x = 'day', y = 'tip', row = 'smoker', col = 'time', kind = 'bar', errorbar = Non)
plt.show()
```

![image](https://github.com/user-attachments/assets/959ed647-0c8b-4d1c-ae00-89069b38d53f)

```python
tips.groupby(by = ['smoker', 'time', 'day'], observed = False).tip.mean()  # tip의 평균 계산. observed = True하면 NaN 안보여줌
```
![image](https://github.com/user-attachments/assets/d02235e7-5d12-474b-9f37-379ece99628c)

# Ex 2.
<br>
- 요일별(x축), 성별(색깔) 팁의 평균 막대 그래프. 흡연여부(subplot의 행), 시간(subplot의 열)으로 Axes를 나눠서 그래프 작성.<br>
- groupby 메서드와 통계 함수를 이용해 값들 계산.

```python
sns.catplot(data = tips, x = 'day', y = 'sex', row = 'smoker', col = 'time', kind = 'bar', hue = 'sex')
plt.show()
```

![image](https://github.com/user-attachments/assets/3484a97d-bf51-47fd-93bd-97b10a0d9527)

```python
tips.groupby(by = ['smoker', 'time', 'sex', 'day'],observed = True).tip.mean()
```
![image](https://github.com/user-attachments/assets/d0b3f9f3-f90a-4b54-a782-2807ac35289a)

# Ex 3.
<br>
- 요일별 팁의 box plot. 흡연여부(subplot의 행), 시간(subplot의 열)으로 Axes를 나눠서 그래프 작성.<br>
- groupby 메서드와 describe 메서드를 사용해서 기술 통계량들을 계산.

```python
sns.catplot(data = tips, x = 'day', y = 'tip', row = 'smoker', col = 'time', kind = 'box')
plt.show()
```

![image](https://github.com/user-attachments/assets/d59e0b82-2baf-4d5f-904d-a92ce20a9b35)

```python
tips.groupby(by = ['smoker', 'time', 'day'], observed= True).tip.describe()
```
![image](https://github.com/user-attachments/assets/5c56b402-d55e-4949-88ba-55c9b39dcb3d)

# plotly 모듈
<br>
interactive graph
<br>

```python
import plotly.express as px
```

## box plot
```python
# 성별 tip의 box plot
figure = px.box(data_frame = tips, x = 'sex', y = 'tip', color = 'sex')
figure.show()
```
![image](https://github.com/user-attachments/assets/a8b5a1d1-a531-424c-bc73-4ac57fcf5603)

```python
# 요일별 성별 tip의 box plot
figure = px.box(data_frame = tips, x = 'day', y = 'tip', color = 'sex')
figure.show()
```
![image](https://github.com/user-attachments/assets/24a969ca-55a0-40e9-9846-3c3d993413a1)

## scatter plot
```python
# tip ~ total_bill
figure = px.scatter(data_frame = tips, x = 'total_bill', y = 'tip')
figure.show()
```

![image](https://github.com/user-attachments/assets/bc2b67e6-8e67-46e0-86ce-b89182c5aa89)

```python
# tip ~ total_bill 산점도. 성별로 색깔 다르게, 요일별로 마커 모양 다르게, 인원수별로 마커 크기 다르게 시각화
figure = px.scatter(data_frame = tips, x = 'total_bill', y = 'tip',
                    color = 'sex', symbol = 'day', size = 'size')
figure.show()
```

![image](https://github.com/user-attachments/assets/d2ab0b0b-5244-4fd6-b4bd-aee1a4445729)

## histogram
```python
figure = px.scatter(data_frame = tips, x = 'total_bill',
                    nbins = 20,
                    template = 'simple_white')
figure.show()
```

![image](https://github.com/user-attachments/assets/12f7d3ab-778b-4381-8e58-9722a795c017)

## facetting
<br>
1개의 Figure 객체에 행과 열을 구분해서 Axes들을 생성하는 것.
<br>

```python
figure = px.scatter(data_frame = tips, x = 'total_bill', y = 'tip',
                    color = 'sex',
                    facet_row = 'smoker',  # facet_row -> 행을 나누는 기준
                    facet_col = 'time')
figure.show()
```

![image](https://github.com/user-attachments/assets/4e9c339f-3f28-4b44-b3a3-3083a1b1d00a)

```python
# Ex 3.을 facetting을 사용해서
figure = px.box(data_frame = tips, x = 'day', y = 'tip',
                facet_row = 'smoker', facet_col = 'time')
figure.show()
```
![image](https://github.com/user-attachments/assets/47f7aeb5-581d-4398-9917-4f0b93be32e0)

---
# EDA(Exploratory Data Analysis)
<br>
탐색적 데이터 분석: 그래프나 통계적인 방법으로 자료를 분석하는 과정.
<br>

# 필요한 모듈 import
```python
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
import plotly.express as px
```

# Ex 1. iris 데이터셋

- seaborn 패키지의 iris 데이터셋을 로드<br>
- iris 데이터 탐색 - 데이터프레임 일부 출력, 요약 정보, 기술 통계량, 카테고리 * 타입 변수 빈도수<br>
- 숫자 타입 변수(컬럼)들의 box plot<br>
- 숫자 타입 변수(컬럼)들의 평균 막대 그래프<br>
- 품종별 모든 연속형 변수들의 box plot<br>
- 품종별 모든 연속형 변수들의 평균 막대 그래프<br>
- petal_width ~ petal_length 산점도. 품종별로 색깔을 다르게 시각화<br>
- 모든 연속형 변수들 간의 상관관계(산점도). Hint: `pairplot()`<br>

```
iris(붓꽃) 데이터셋
꽃받침(Sepal)과 꽃잎(Petal)의 길이 너비로 세개 품종을 분류
```
![image](https://github.com/user-attachments/assets/eeb9b867-a435-4d25-aec7-e8b9f22e1cd8)
![image](https://github.com/user-attachments/assets/59d31529-ad82-40ee-b6bf-796b6887c3e4)


## 데이터셋 준비
```python
iris = sns.load_dataset('iris')
iris.info()
```

![image](https://github.com/user-attachments/assets/258158ad-c034-40b5-b6cf-ae4b62b911aa)

```python
# iris 데이터 탐색 - 데이터프레임 일부 출력, 요약 정보, 기술 통계량, 카테고리 * 타입 변수 빈도수
iris.head()
```

![image](https://github.com/user-attachments/assets/40542505-b2a0-4ed5-925e-f7909e0d7a2b)

## 숫자 타입 변수(numerical variables) 탐색
```python
iris[['petal_length', 'petal_width']].describe()
```

![image](https://github.com/user-attachments/assets/6d447769-51a2-4864-aa77-bb6135bd0c58)

```python
# 숫자 타입 변수들의 기술 통계량
iris.describe()
```

![image](https://github.com/user-attachments/assets/b77be227-a3d1-4c3b-9618-19260d3b39a0)

```python
# 숫자 타입 변수(컬럼)들의 box plot
sns.boxplot(data = iris)
plt.show()
```

![image](https://github.com/user-attachments/assets/e612bb6c-c970-4bf1-a3c4-827558981819)

```python
# 숫자 타입 변수(컬럼)들의 평균 막대 그래프
sns.barplot(data = iris, errorbar = None)
plt.show()
```

![image](https://github.com/user-attachments/assets/6fd757b6-3972-433b-a01c-abbfc3996a9b)

```python
print(iris.columns)
print(iris.columns[:4])  # 첫 4개의 컬럼 이름을 선택
print(iris.columns[:-1])  # 마지막 컬럼을 제외한 나머지 모든 컬럼 이름을 선택
```

![image](https://github.com/user-attachments/assets/04e81255-62bc-4ddc-b4d5-a30cfdaf5843)

```python
# iris[['sepal_length', 'sepal_width', 'petal_length', 'petal_width']].mean()
iris[iris.columns[:-1]].mean()
```
![image](https://github.com/user-attachments/assets/c3113e00-1369-4aa4-8b76-489b691c906f)

## 품종별 분석
```python
# 카테고리 변수의 빈도수
iris.species.value_counts()
```
![image](https://github.com/user-attachments/assets/c5d1cd0e-0514-45c0-ac9f-a3132cdb47ef)

```python
sns.countplot(data = iris, x = 'species', hue = 'species')
plt.show()
```
![image](https://github.com/user-attachments/assets/3f5e28a9-cbc2-4311-b63a-8eb55aa7fbd5)

```python
sns.boxplot(data = iris[iris.species == 'setosa'])
plt.title('setosa')
plt.show()
```
![image](https://github.com/user-attachments/assets/2eb3b31b-8ab2-4946-8ac1-c127e6152d18)

```python
# 품종별 box plot
species = iris.species.unique()

fig, axes = plt.subplots(ncols = len(species), figsize = (16, 4))

for i, s in enumerate(species):
    data = iris[iris.species == s]
    sns.boxplot(data = data, ax = axes[i])
    axes[i].set_title(s)
    
plt.show()
```
![image](https://github.com/user-attachments/assets/81b3dead-6dbb-4bbd-ac73-99ebb24e60ec)

```python
# 품종별 평균 막대 그래프
species = iris.species.unique()

fig, axes = plt.subplots(ncols = len(species), figsize = (16, 4))

for i, s in enumerate(species):
    data = iris[iris.species == s]
    sns.barplot(data = data, ax = axes[i], errorbar = None)
    axes[i].set_title(s)
    axes[i].set_ylabel('mean')

plt.show() 
```

![image](https://github.com/user-attachments/assets/934a09e6-a136-4ea9-9917-7b4174591bc5)

```python
print(iris.columns)
print(iris.columns[:-1])
```

![image](https://github.com/user-attachments/assets/1b2fa97c-fce3-473a-b998-11bc8ebe9861)

```python
iris.groupby(by = ['species'])[iris.columns[:-1]].mean()
```
![image](https://github.com/user-attachments/assets/16d09ac7-831b-4bf6-96bc-35db9d699a81)

## scatter plot
```python
# petal_width ~ petal_length 산점도. 품종별로 색깔을 다르게 시각화
sns.scatterplot(data = iris, x = 'petal_length', y = 'petal_width', hue = 'species')
plt.show()
```

![image](https://github.com/user-attachments/assets/0fe60287-603a-406c-8c89-d4f2630f9184)

```python
# sepal_width ~ sepal_length
sns.scatterplot(data = iris, x = 'sepal_length', y = 'sepal_width', hue = 'species')
plt.show()
```

![image](https://github.com/user-attachments/assets/cf927d67-2726-49af-9e12-7d73b02ed36a)

## pair plot

```python
# 모든 연속형 변수들 간의 상관관계(산점도). Hint: pairplot()
sns.pairplot(data = iris, hue = 'species')
plt.show()
```

![image](https://github.com/user-attachments/assets/bb7947cb-094c-42d4-90fb-aebc7dff90a0)


