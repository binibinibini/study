# movielens 데이터 분석

```python
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
```

# 데이터 준비
```python
# 데이터 파일들의 경로
movies_file = 'https://github.com/wesm/pydata-book/raw/refs/heads/3rd-edition/datasets/movielens/movies.dat'
ratings_file = 'https://github.com/wesm/pydata-book/raw/refs/heads/3rd-edition/datasets/movielens/ratings.dat'
users_file = 'https://github.com/wesm/pydata-book/raw/refs/heads/3rd-edition/datasets/movielens/users.dat'
```

```python
# 데이터프레임 컬럼 이름
movies_col = ['movie_id', 'title', 'genres']
ratings_col = ['user_id', 'movie_id', 'rating', 'timestamp']
users_col = ['user_id', 'gender', 'age', 'occupation', 'zip_code']
```

## movies 데이터프레임

```python
movies = pd.read_csv(movies_file, sep = '::', engine = 'python', names = movies_col_
movies.head()
```
![image](https://github.com/user-attachments/assets/f4c3ccb0-24cf-4739-bd44-d2fd2a004ff5)

```python
movies.info()
```
![image](https://github.com/user-attachments/assets/b1769916-c06b-4995-8e87-6844fb63c26c)

## ratings 데이터프레임
```python
ratings = pd.read_csv(ratings_file, sep = '::', engine = 'python', names = ratings_col)
ratings.head()
```
![image](https://github.com/user-attachments/assets/6015c55e-b850-44dc-bb4e-4a6db8f5306a)

```python
ratings.info()
```
![image](https://github.com/user-attachments/assets/59f8833b-710b-43a1-bb76-581d9a5bdc04)

## users 데이터프레임

```python
users = pd.read_csv(users_file, sep = '::', engine = 'python', names = users_col)
users.head()
```
![image](https://github.com/user-attachments/assets/9e18de44-3352-4126-ae0a-97d208ae6dc7)

```python
users.info()
```
![image](https://github.com/user-attachments/assets/e7ff57a6-9d16-4fa2-b445-8b33be44b8eb)

# 데이터프레임 합치기(merge/join)

## ratings와 movies를 merge

```python
# movie_id 컬럼을 사용한 inner join
df = pd.merge(ratings, movies)  # 이름이 같으니깐 on = 'movie_id' 생략 가능
```
```python
df.head()
```
![image](https://github.com/user-attachments/assets/8119aa25-6e53-4b60-a7f4-579b43567841)

```python
df.info()
```
![image](https://github.com/user-attachments/assets/17cf0b2c-f421-46f8-aaf0-a8c7bfe44ad3)

## df와 users를 merge

```python
# user_id 컬럼을 사용한 inner join
df = pd.merge(df, users)
```
```python
df.head()
```
![image](https://github.com/user-attachments/assets/ebd52cb4-60b1-4cbc-a406-1fdbce072934)

```python
df.info()
```
![image](https://github.com/user-attachments/assets/7ca62831-2cb2-4f35-839e-d2977f944404)

# 데이터 탐색<br>

* 성별 빈도수
* 연령대 빈도수
* 직업군 빈도수
* 별점 빈도수

## 성별 분석

```python
df.gender.value_counts()
```
![image](https://github.com/user-attachments/assets/d8f35c16-e1cc-4e00-aefe-01b32fc2febd)

```python
sns.countplot(data = df, x = 'gender')
plt.show()
```
![image](https://github.com/user-attachments/assets/e5d9818e-d840-4bdd-a7dd-736772b30b57)

## 연령대 분석

```python
df.age.value_counts()
```
![image](https://github.com/user-attachments/assets/8ba708b3-cadd-40a7-8d6c-06900e7e5ff6)

```python
sns.countplot(data = df, x = 'age')
plt.show()
```
![image](https://github.com/user-attachments/assets/f2dae97c-3185-45ca-8127-8a25ee20aef1)

## 직업군 분석

```python
df.occupation.value_counts()
```
![image](https://github.com/user-attachments/assets/86ce5b32-eee7-47f0-94a7-73cc4395988d)

```python
sns.countplot(data = df, x = 'occupation')
plt.show()
```
![image](https://github.com/user-attachments/assets/7becdc93-cf42-4df9-94d4-01b12d707eab)

```python
df.rating.value_counts()
```
![image](https://github.com/user-attachments/assets/8a75e48e-3301-4f8d-83da-c63f33009a44)

```python
sns.countplot(data = df, x = 'rating')
plt.show()
```
![image](https://github.com/user-attachments/assets/b3b38c91-4e69-489c-8d61-391e2d691a20)

```python
df.rating.describe()
```
![image](https://github.com/user-attachments/assets/6e655cba-8cab-409b-99f3-693a61da2639)

```python
sns.boxplot(data = df, y = 'rating')
plt.show()
```
![image](https://github.com/user-attachments/assets/c517a3e1-9ed7-42da-ae8b-88ed623d4901)

```python
sns.boxplot(data = df, x = 'gender', y = 'rating')
plt.show()
```
![image](https://github.com/user-attachments/assets/3e10cf03-9b29-4313-b457-b6e08185190a)

# 데이터 분석

## 별점 평균 상위 10개, 하위 10개 영화 제목

```python

```
