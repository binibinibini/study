![image](https://github.com/user-attachments/assets/56ad8637-4694-4c0a-ae8e-b22fc6d0e1b5)
![image (2)](https://github.com/user-attachments/assets/6b0ff48a-d3c9-479b-bccc-35721b6ba40d)
![image (3)](https://github.com/user-attachments/assets/73a49a10-ee24-4e23-8656-bbe6978879d7)
<br>
# join
- join: 2개 이상의 테이블에서 데이터를 검색하는 방법
- join의 종류
  - (inner)join -> 교집합
  - outer join
    (1) left (outer) join -> 왼쪽 집합 <br>
    (2) right (outer) join -> 오른쪽 집합 <br>
    (3)  full (outer) join -> 합집합 <br>
- join 문법<br>
    1. ANSI 표준 문법
      ```
      select 컬럼, ...
      from 테이블1 join종류 테이블2 on join조건식;
      ```
    2. Oracle 문법
       ```
       select 컬럼, ...
       from 테이블1, 테이블2, ...
       where join조건식;
       ```
```sql
select * from emp;
select * from dept;
select empno, ename from emp; # select emp.empno, emp.ename from emp;랑 같음
```
- inner join: 사번, 직원이름, 부서번호, 부서이름 검색.
- ANSI 문법
```sql
select
  emp.empno, emp.ename, emp.deptno, dept.dname  # dept.deptno 로 해도 됨
from emp inner join dept on emp.deptno = dept.deptno;  # inner join에서 inner는 생략 가능
```
from에 있는 테이블은 왼쪽 테이블, join에 있는 테이블은 오른쪽 테이블
```sql
select e.empno, e.ename, e.deptno, d.dname
from emp e  # emp 테이블 이름에 별명을 준것.
  inner join dept d on e.deptno = d.deptno;
```
- Oracle 문법(왼쪽 테이블 먼저 쓰기. 순서 중요)
```sql
select e.empno, e.ename, e.deptno, d.dname
from emp e, dept d
where e.deptno = d.deptno;
```
- full (outer) join
- ANSI 문법
```sql
select e.empno, e.ename, e.deptno, d.deptno, d.dname
from emp e
    full join dept d on e.deptno = d.deptno;  # left와 right 테이블에 공통 + left에만 있는 것 + right에만 있는 것
```
![image](https://github.com/user-attachments/assets/bcad9ce6-5c95-4d49-af31-4390b1ede721)

- Oracle은 full outer join 문법을 제공하지 않음!
- Oracle에서는 left join의 결과와 right join의 결과를 "union(합집합)"
```sql
select  # left 결과
    e.empno, e.ename, e.deptno, d.deptno, d.dname
from emp e, dept d
where e.deptno = d.deptno(+)
union
select  # right 결과
    e.empno, e.ename, e.deptno, d.deptno, d.dname
from emp e, dept d
where e.deptno(+) = d.deptno;
```
![image](https://github.com/user-attachments/assets/26e940c2-c9f3-4cd9-8fd2-de0ec2796d86)

- 교집합(intersect) 참고용
```sql
select
    e.empno, e.ename, e.deptno, d.deptno, d.dname
from emp e, dept d
where e.deptno = d.deptno(+)
intersect
select
    e.empno, e.ename, e.deptno, d.deptno, d.dname
from emp e, dept d
where e.deptno(+) = d.deptno;
```
![image](https://github.com/user-attachments/assets/573b175d-0b36-4d7b-b029-d36bca11a5b7)

- 정형 데이터: 정해진, 표로 정리할 수 있는 데이터
- RDBMS : Relational 관계형 데이터베이스 관리 시스템(DB management system)
<br>

- equi-join: 조인의 조건식이 = 인 경우.
- non-equi join: 조인의 조건식이 = 가 아닌 경우. 부등호 등을 이용한 경우.
<br>

- emp 테이블과 salgrade 테이블을 조인해서 사번, 이름, 급여, 급여 등급을 검색.
- inner join(표준방식, 오라클 방식)

```sql
select e.empno, e.ename, e.sal, s.grade
from emp e
  join salgrade s on e.sal between s.losal and s.hisal;  # e.sal >= s.losal and e.sal <= s.hisal도 가능
```
```sql
# 오라클 방식
select e.empno, e.ename, e.sal, s.grade
from emp e, salgrade s
where e.sal between s.losal and s.hisal;
```
![image](https://github.com/user-attachments/assets/f660d83f-dee7-4c4b-9733-9fc398e92dd7)
<br>

- left (outer) join
```sql
select e.empno, e.ename, e.sal, s.grade
from emp e
  left join salgrade s on e.sal between s.losal and s.hisal;
```
```sql
# 오라클
select e.empno, e.ename, e.sal, s.grade
from emp e, salgrade s  # salgrade에서 emp로 붙이겠다
where e.sal between s.losal(+) and s.hisal(+);
# e.sal >= s.losal(+) and e.sal <= s.hisal(+)
```
![image](https://github.com/user-attachments/assets/32348686-fc79-48a7-979e-634048d1bde3)
<br>

- right (outer) join
```sql
select e.empno, e.ename, e.sal, s.grade
from emp e
  right join salgrade s on e.sal between s.losal and s.hisal;
```
```sql
# 오라클
select e.empno, e.ename, e.sal, s.grade
from emp e, salgrade s
where e.sal(+) between s.losal and s.hisal;
```
![image](https://github.com/user-attachments/assets/30c428d9-60d6-49c4-a2d0-66034c688bc0)
<br>

- full (outer) join
```sql
select e.empno, e.ename, e.sal, s.grade
from emp e
full join salgrade s on e.sal between s.losal and s.hisal;
```
```sql
# 오라클
select e.empno, e.ename, e.sal, s.grade
from emp e, salgrade s
where  e.sal between s.losal(+) and s.hisal(+);
union
select e.empno, e.ename, e.sal, s.grade
from emp e, salgrade s
where  e.sal(+) between s.losal and s.hisal;
```
![image](https://github.com/user-attachments/assets/f1b6b71f-b725-4d5b-9aa3-c3b749f5daf9)
<br>

